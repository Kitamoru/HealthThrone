:root {
  --vh: 1vh;
  --vw: 1vw;
  --tg-bg: var(--tg-theme-bg-color, #18222d);
  --tg-text: var(--tg-theme-text-color, #ffffff);
  --tg-secondary: var(--tg-theme-secondary-bg-color, #2a3a4d);
  --tg-accent: var(--tg-theme-link-color, #5b8cff);
  --tg-danger: #e74c3c;
  --tg-success: #2ecc71;
  --tg-border: var(--tg-theme-hint-color, rgba(255,255,255,0.1));
  --tg-hint: var(--tg-theme-hint-color, rgba(255,255,255,0.5));
}

* {
  box-sizing: border-box;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  margin: 0;
  padding: 0;
}

body {
  margin: 0;
  padding: 0;
  background: var(--tg-bg);
  color: var(--tg-text);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  height: calc(var(--vh, 1vh) * 100);
  overflow: hidden;
  overscroll-behavior: none;
}

/* Main Container */
.container {
  display: flex;
  flex-direction: column;
  height: calc(var(--vh, 1vh) * 100);
  padding: 16px 20px;
  align-items: center;
  gap: 32px; /* Первый отступ */
}

.container > *:not(:first-child) {
  margin-top: -20px; /* Уменьшаем gap до 12px (32px - 20px = 12px) */
}

/* Header Styles */
.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  position: relative;
  width: 100%;
  margin-bottom: 15px;
}

.sprite-container {
  position: relative; /* Для позиционирования внутри контейнера */
  width: 70px;
  height: 70px;
  border-radius: 20px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sprite-container:hover {
  transform: scale(1.05);
}

.sprite {
  position: absolute; /* Оба спрайта абсолютно позиционированы */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 20px;
  image-rendering: pixelated;
  transition: opacity 0.5s ease-in-out;
}

.pentagon {
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, var(--tg-danger), #c0392b);
  clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 2;
  color: white;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  transition: transform 0.3s ease;
}

.pentagon:hover {
  transform: scale(1.1);
}

/* Burnout Section */
.burnout-section {
  background: var(--tg-secondary);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 20px;
  border: 1px solid var(--tg-border);
}

.level-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.level-label {
  font-size: 14px;
  color: var(--tg-hint);
  font-weight: 500;
}

.level-value {
  font-size: 18px;
  font-weight: bold;
  color: var(--tg-text);
  padding: 6px 12px;
  background: linear-gradient(135deg, var(--tg-accent), #4a7bc8);
  border-radius: 8px;
  color: white;
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.progress-wrapper {
  width: 100%;
}

.burnout-bar {
  background: var(--tg-secondary);
  height: 14px;
  border-radius: 7px;
  overflow: hidden;
  border: 1px solid var(--tg-border);
}

.burnout-progress {
  height: 100%;
  background: linear-gradient(90deg, var(--tg-success), var(--tg-accent), var(--tg-danger));
  transition: width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
}

.burnout-progress::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent 70%, rgba(255,255,255,0.3));
  animation: shimmer 2s infinite;
}

/* Content Area */
.content {
  flex-grow: 1;
  overflow-y: auto;
  scroll-behavior: smooth;
  padding-bottom: 15px;
}

.questions {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.question-card {
  background: var(--tg-secondary);
  border-radius: 16px;
  padding: 18px;
  transition: all 0.3s ease;
  border: 1px solid transparent;
  position: relative;
  overflow: hidden;
}

.question-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 0.5s;
}

.question-card:hover::before {
  left: 100%;
}

.question-card:hover {
  transform: translateY(-2px);
  border-color: var(--tg-accent);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.question-card.answered {
  border-color: var(--tg-success);
  background: linear-gradient(135deg, var(--tg-secondary), rgba(46, 204, 113, 0.1));
}

.question-text {
  margin: 0 0 14px;
  font-size: 16px;
  line-height: 1.5;
  font-weight: 500;
}

.answer-buttons {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
}

.answer-btn {
  padding: 12px 20px;
  border: none;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 80px;
  position: relative;
  overflow: hidden;
}

.answer-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255,255,255,0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.answer-btn:active::before {
  width: 300px;
  height: 300px;
}

.answer-btn.positive {
  background: linear-gradient(135deg, var(--tg-accent), #4a7bc8);
  color: white;
  box-shadow: 0 4px 15px rgba(91, 140, 255, 0.4);
}

.answer-btn.negative {
  background: linear-gradient(135deg, var(--tg-secondary), #374151);
  color: var(--tg-text);
  border: 1px solid var(--tg-border);
}

.answer-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.answer-btn.positive:hover {
  box-shadow: 0 6px 20px rgba(91, 140, 255, 0.6);
}

.answer-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none !important;
}

/* Messages */
.time-message {
  text-align: center;
  margin-top: 20px;
  animation: fadeInUp 0.5s ease;
}

.info-message {
  background: linear-gradient(135deg, rgba(91, 140, 255, 0.2), rgba(46, 204, 113, 0.2));
  padding: 16px 20px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  color: var(--tg-text);
  border: 1px solid var(--tg-accent);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

/* меню */
.bottom-menu {
  display: flex;
  width: calc(100% - 40px);
  max-width: 500px;
  height: 68px;
  padding: 12px;
  align-items: center;
  gap: 28px;
  position: absolute;
  left: 50%;
  bottom: 50px;
  transform: translateX(-50%);
  border-radius: 160px;
  box-shadow:
    0px 0.5px 0.5px 0px rgba(255, 255, 255, 0.10) inset,
    0px 0.5px 10px 0px rgba(255, 255, 255, 0.05) inset,
    1px 1px 2px 0px rgba(194, 179, 255, 0.20) inset,
    0px 0.15px 0px 0px #C2B3FF inset;
  backdrop-filter: blur(10px);
  background: rgba(22, 22, 22, 0.2);
  z-index: 100;
}

.menu-btn {
  flex: 1 1 auto;
  max-height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 140px;
  background-color: #161616;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: all 0.3s ease;
  position: relative;
}

.menu-icon {
  width: 28px;
  height: 28px;
  color: #FFFFFF; /* Базовый цвет */
  transition: all 0.3s ease;
  position: relative;
  z-index: 2;
}

.menu-btn.active .menu-icon {
  color: #0FEE9E; /* Активный цвет */
}

/* Свечение для активной кнопки */
.menu-btn.active::after {
  content: '';
  position: absolute;
  width: 28px;
  height: 28px;
  background: #0FEE9E;
  border-radius: 50%;
  opacity: 0.5;
  filter: blur(26px);
  z-index: 1;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Friends Page */
.back-btn {
  position: absolute;
  top: 15px;
  left: 15px;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  z-index: 10;
  color: var(--tg-text);
}

.friends-list {
  margin-top: 20px;
  width: 100%;
}

.friend-card {
  background: var(--tg-secondary);
  border-radius: 15px;
  padding: 15px;
  margin-bottom: 15px;
  border: 1px solid var(--tg-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.friend-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  width: 100%;
}

.friend-username {
  font-weight: bold;
  font-size: 16px;
  color: var(--tg-text);
}

.burnout-level {
  text-align: center;
  margin-top: 5px;
  font-size: 14px;
  color: var(--tg-hint);
}

.add-friend-section {
  margin-top: 30px;
  text-align: center;
}

.add-friend-btn {
  background: linear-gradient(135deg, var(--tg-accent), #4a7bc8);
  color: white;
  border: none;
  border-radius: 25px;
  padding: 12px 25px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
  width: 100%;
  max-width: 250px;
  font-weight: 600;
}

.add-friend-btn:hover {
  opacity: 0.9;
  transform: translateY(-2px);
}

.add-friend-hint {
  margin-top: 10px;
  font-size: 14px;
  color: var(--tg-hint);
}

.error-message {
  color: var(--tg-danger);
  text-align: center;
  margin: 15px 0;
  padding: 10px;
  border-radius: 8px;
  background-color: rgba(231, 76, 60, 0.1);
}

.remove-btn, .delete-btn {
  background: var(--tg-danger);
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s;
  font-weight: 500;
}

.remove-btn:hover, .delete-btn:hover {
  background: #c0392b;
}

/* Animations */
@keyframes pulse {
  0% { transform: scale(0.8); opacity: 0.7; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(0.8); opacity: 0.7; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes fade {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Responsive */
@media (max-width: 480px) {
  .sprite-container,
  .pentagon {
    width: 65px;
    height: 65px;
  }

  .pentagon {
    font-size: 24px;
  }

  .question-text {
    font-size: 15px;
  }

  .answer-btn {
    font-size: 13px;
    padding: 10px 16px;
  }

  .container {
    padding: 12px;
  }
  
  .menu-btn {
    padding: 12px;
    font-size: 20px;
  }
}

/* Alternative Loader */
.loader {
  width: 50px;
  height: 50px;
  margin: 20px auto;
}

.loader-inner {
  width: 100%;
  height: 100%;
  border: 3px solid var(--tg-hint);
  border-top: 3px solid var(--tg-accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
/* Friends page */
.header {
  display: flex;
  padding: 16px;
  align-items: center;
  border-radius: 16px;
  background: #161616;
  max-height: 56px;
  width: 100%;
  box-sizing: border-box;
}

.add-friends-btn {
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
}

.friends-list ul {
  list-style: none;
  padding: 0;
}

.friend-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  border-bottom: 1px solid #ddd;
}

.friend-name {
  font-weight: bold;
}

.burnout-level {
  color: #666;
}

.delete-btn {
  background-color: #f44336;
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 4px;
  cursor: pointer;
}

/* Modal styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-card {
  background: var(--tg-secondary);
  border-radius: 16px;
  padding: 20px;
  border: 1px solid var(--tg-border);
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  max-width: 500px;
  width: 90%;
  margin: 0 auto;
}

.custom-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.custom-modal-header h3 {
  margin: 0;
  font-size: 18px;
  color: var(--tg-text);
}

.custom-modal-body {
  margin-bottom: 15px;
}

.referral-link-container {
  display: flex;
  gap: 10px;
  margin: 15px 0;
}

.custom-input {
  background: var(--tg-secondary);
  border: 1px solid var(--tg-border);
  border-radius: 12px;
  padding: 12px;
  color: var(--tg-text);
  font-size: 14px;
  flex: 1;
  outline: none;
}

.custom-input:focus {
  border-color: var(--tg-accent);
}

.close-btn {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: var(--tg-text);
  opacity: 0.7;
  transition: opacity 0.3s;
}

.close-btn:hover {
  opacity: 1;
}
/* Existing styles... */

.scrollable-content {
  display: flex;
  flex-direction: column;
  gap: 32px;
  width: 100%;
  overflow-y: auto;
  padding-bottom: 120px; /* Отступ для меню */
}

.menu {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  padding: 10px 0;
  border-top: 2px solid var(--tg-border);
  background: var(--tg-bg);
  position: sticky;
  bottom: 0;
  z-index: 100;
  margin-top: auto; /* Важное изменение - прижимаем меню к низу */
}

/* Новые стили для кнопки удаления */
.delete-btn {
  background: var(--tg-danger);
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s;
  font-weight: 500;
  margin-top: 10px;
}

.delete-btn:hover {
  background: #c0392b;
}

/* Стили для пустого состояния */
.empty {
  text-align: center;
  padding: 20px;
  color: var(--tg-hint);
  font-size: 16px;
}

/* Улучшаем адаптивность */
@media (max-width: 480px) {
  .container {
    padding: 12px;
  }
  
  .menu-btn {
    padding: 12px;
    font-size: 20px;
  }
  
  .friend-card {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .delete-btn {
    align-self: flex-end;
  }
  
 /* Плавная анимация появления */
.page-transition {
  animation: fadeIn 0.3s ease forwards;
  opacity: 0;
}

@keyframes fadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
}  

/* Стили для магазина */

/* Стили для магазина */
.shop-header {
  display: flex;
  padding: 16px;
  justify-content: space-between;
  align-items: center;
  border-radius: 16px;
  background: #161616;
  max-height: 56px;
  width: 100%;
  box-sizing: border-box;
}

.shop-title {
  color: #FFF;
  text-align: center;
  font-size: 20px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.5px;
  margin: 0;
}

.coins-display {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  gap: 8px;
  border-radius: 8px;
  background: #2A2A2A;
}

.coins-text {
  color: #FFFFFF;
  text-align: center;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.5px;
}

/*иконка монет*/
.coin-icon {
  display: flex;
  width: 16px;
  height: 16px;
  justify-content: center;
  align-items: center;
  aspect-ratio: 1/1;
  filter: brightness(0) invert(1);
}

.sprites-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin: 0 auto;
  width: auto;
  box-sizing: border-box;
}

.sprite-card {
  display: flex;
  padding: 12px;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 16px;
  background: #161616;
  border-radius: 12px;
  height: 100%;
  box-sizing: border-box;
}

.sprite-image {
  width: 100%;
  height: 170.5px;
  object-fit: contain;
  background: #2a2a2a;
  border-radius: 8px;
}

.sprite-info {
  color: #FFFFFF;
  font-size: 18px;
  font-style: normal;
  font-weight: 500;
  line-height: 22px;
  letter-spacing: -0.5px;
  width: 100%;
}

.sprite-info h3 {
  margin: 0 0 8px 0;
  font-size: 18px;
  font-weight: 500;
}

.sprite-price {
  display: flex;
  align-items: center;
  gap: 6px;
  width: 100%;
  margin-bottom: 8px;
}

.price-text {
  color: #FFFFFF;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.5px;
}

.sprite-actions {
  display: flex;
  height: 32px;
  padding: 0px;
  justify-content: center;
  align-items: center;
  gap: 8px;
  width: 100%;
}

/* 1. Состояние "Купить" */
.buy-btn {
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(6, 96, 64, 0.20) 0%, rgba(6, 96, 64, 0.80) 100%), #0FEE9E;
  box-shadow: 
    0px 0.5px 0.5px 0px rgba(255, 255, 255, 0.10) inset, 
    0px 0.5px 10px 0px rgba(255, 255, 255, 0.05) inset, 
    1px 1px 2px 0px rgba(194, 179, 255, 0.20) inset, 
    0px 0.15px 0px 0px #C2B3FF inset;
  color: #FFFFFF;
  text-align: center;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.5px;
  width: 100%;
  border: none;
  cursor: pointer;
  transition: opacity 0.3s;
  min-width: 146.5px;
  height: 32px;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 2. Состояние "Применить" */
.equip-btn {
  border-radius: 8px;
  background: #FFF;
  box-shadow: 
    0px -0.5px 0.5px 0px rgba(255, 255, 255, 0.10) inset, 
    0px 0.5px 0.5px 0px rgba(255, 255, 255, 0.10) inset, 
    0px -0.5px 10px 0px rgba(255, 255, 255, 0.05) inset, 
    0px 0.5px 10px 0px rgba(255, 255, 255, 0.05) inset, 
    1px 1px 2px 0px rgba(194, 179, 255, 0.20) inset, 
    0px 0.15px 0px 0px #C2B3FF inset;
  color: #2A2A2A;
  text-align: center;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.5px;
  width: 100%;
  border: none;
  cursor: pointer;
  transition: background 0.3s;
  min-width: 146.5px;
  height: 32px;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 3. Состояние "Применен" */
.equip-btn.equipped {
  background: rgba(255, 255, 255, 0.10);
  color: #FFFFFF;
  box-shadow: none;
  cursor: default;
}

/* 4. Состояние "Недостаточно" */
.buy-btn.disabled {
  opacity: 0.35;
  background: linear-gradient(180deg, rgba(6, 96, 64, 0.20) 0%, rgba(6, 96, 64, 0.80) 100%), #0FEE9E;
  box-shadow: 
    0px 0.5px 0.5px 0px rgba(255, 255, 255, 0.10) inset, 
    0px 0.5px 10px 0px rgba(255, 255, 255, 0.05) inset, 
    1px 1px 2px 0px rgba(194, 179, 255, 0.20) inset, 
    0px 0.15px 0px 0px #C2B3FF inset;
  cursor: not-allowed;
}

/* Reference Page Styles */
/* Блок заголовка "Где я?" */
.header-block {
  display: flex;
  padding: 16px;
  justify-content: center; /* Центрирование содержимого */
  align-items: center;
  align-self: stretch;
  border-radius: 16px;
  background: #161616;
}

.page-title {
  color: #FFF;
  text-align: center;
  font-size: 20px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.5px;
  width: 100%;
}

/* Блок описания приложения */
.description-block {
  display: flex;
  padding: 16px;
  flex-direction: column;
  align-items: flex-start;
  gap: 32px;
  align-self: stretch;
  border-radius: 16px;
  background: #161616;
}

.page-description {
  color: #FFF;
  font-size: 15px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.23px;
  width: 100%;
  text-align: justify;
}

/* Блоки с информацией */
.reference-section {
  display: flex;
  padding: 16px;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  align-self: stretch;
  border-radius: 16px;
  background: #161616;
}

.section-title {
  align-self: stretch;
  color: #FFF;
  font-size: 19px;
  font-style: normal;
  font-weight: 600;
  line-height: 22px;
  letter-spacing: -0.23px;
}

.reference-card {
  align-self: stretch;
  color: #FFF;
  font-size: 15px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: -0.23px;
}

/* Улучшенные автоматические переносы */
.reference-section * {
  word-break: break-word;
  hyphens: auto;
}

/* Стили для списков */
.feature-list {
  padding-left: 20px;
  margin: 8px 0 0 0;
}

.feature-list li {
  margin-bottom: 8px;
}

.feature-list li:last-child {
  margin-bottom: 0;
}
 

   /* Классы для управления анимацией покупки */

 .button-loader {
  display: inline-block;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.buy-btn.processing,
.equip-btn.processing {
  opacity: 0.7;
  cursor: not-allowed;
}

.fade-in {
  opacity: 0;
  animation: fadeIn 0.3s ease-in forwards;
}

.fade-out {
  opacity: 1;
  animation: fadeOut 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}
  /* Классы для управления анимацией */
.sprite-hidden {
  opacity: 0;
  visibility: hidden;
  z-index: 1;
}

.sprite-fade-in {
  opacity: 1;
  z-index: 2;
  animation: spriteFadeIn 0.5s ease-in-out;
}

.sprite-fade-out {
  opacity: 0;
  z-index: 1;
  animation: spriteFadeOut 0.5s ease-in-out;
}

/* Анимация появления */
@keyframes spriteFadeIn {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}

/* Анимация исчезновения */
@keyframes spriteFadeOut {
  from { 
    opacity: 1;
    transform: scale(1);
  }
  to { 
    opacity: 0;
    transform: scale(1.05);
  }
  }

  /* Обновленные стили для Onboarding */
.onboarding-container {
  min-height: 100vh;
  background: var(--tg-bg);
  color: var(--tg-text);
  padding: 0 16px;
  display: flex;
  flex-direction: column;
}

/* Общие стили для всех шагов */
.onboarding-header {
  text-align: center;
  padding: 20px 0 30px;
}

.onboarding-header h1 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--tg-text);
}

.onboarding-header p {
  font-size: 1rem;
  color: var(--tg-hint);
}

/* Стили для шага выбора роли */
.role-step {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding-top: 20%; /* Отступ сверху для лучшего позиционирования */
}

.role-selector-container {
  position: relative;
  margin-top: 40px; /* Больше отступ сверху */
}

.role-selector {
  width: 100%;
  padding: 16px;
  background: var(--tg-secondary);
  border: 1px solid var(--tg-border);
  border-radius: 12px;
  color: var(--tg-text);
  font-size: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.role-selector:hover {
  border-color: var(--tg-accent);
}

.placeholder {
  color: var(--tg-hint);
}

.dropdown-icon {
  transition: transform 0.3s ease;
}

.dropdown-icon.open {
  transform: rotate(180deg);
}

.dropdown-icon svg {
  width: 16px;
  height: 16px;
}

.role-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--tg-secondary);
  border: 1px solid var(--tg-border);
  border-radius: 12px;
  margin-top: 8px;
  max-height: 300px;
  overflow-y: auto;
  z-index: 10;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  animation: dropdownAppear 0.3s ease-out forwards;
  transform-origin: top center;
  opacity: 0;
  transform: scale(0.95) translateY(-10px);
}

@keyframes dropdownAppear {
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.role-option {
  padding: 14px 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid var(--tg-border);
}

.role-option:last-child {
  border-bottom: none;
}

.role-option:hover {
  background: rgba(255, 255, 255, 0.1);
}

.role-option.selected {
  background: rgba(91, 140, 255, 0.2);
  font-weight: 500;
}

/* Стили для шага теста */
.test-step {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.progress-container {
  padding: 20px 0 15px;
}

.progress-text {
  font-size: 0.9rem;
  color: var(--tg-hint);
  margin-bottom: 8px;
  text-align: center;
}

.progress-bar {
  width: 100%;
  height: 6px;
  background: var(--tg-secondary);
  border-radius: 3px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--tg-accent);
  border-radius: 3px;
  transition: width 0.3s ease;
}

.test-container {
  flex-grow: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px 0;
}

.test-text {
  font-size: 1.2rem;
  font-weight: 500;
  line-height: 1.5;
  text-align: center;
  color: var(--tg-text);
}

.answers-container {
  margin-top: auto;
  padding-bottom: 30px;
}

.answer-button {
  width: 100%;
  padding: 16px;
  background: var(--tg-secondary);
  border: 1px solid var(--tg-border);
  border-radius: 12px;
  color: var(--tg-text);
  font-size: 1rem;
  text-align: left;
  margin-bottom: 12px;
  transition: all 0.2s ease;
}

/* Стили для шага результата */
.result-step {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding-top: 20px;
}

.result-header {
  text-align: center;
  margin-bottom: 20px;
}

.result-header h2 {
  font-size: 1.5rem;
  font-weight: 700;
}

.result-card {
  background: var(--tg-secondary);
  border-radius: 16px;
  padding: 24px;
  border: 1px solid var(--tg-border);
  margin-bottom: 20px;
}

.class-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--tg-accent);
  text-align: center;
  margin-bottom: 16px;
}

.class-description {
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 16px;
  color: var(--tg-text);
}

.class-footer {
  font-size: 0.9rem;
  font-style: italic;
  color: var(--tg-hint);
  text-align: center;
}

.accept-button {
  width: 100%;
  padding: 16px;
  background: var(--tg-accent);
  border: none;
  border-radius: 12px;
  color: white;
  font-size: 1.1rem;
  font-weight: 600;
  margin-top: auto;
  margin-bottom: 30px;
  transition: all 0.2s ease;
}

.accept-button:hover {
  background: #4a7bc8;
  transform: translateY(-2px);
}
  /* Стили для контейнера октаграммы */
.octagram-container {
  position: relative;
  display: flex;
  justify-content: center;
  margin: 2rem 0;
  padding: 1rem;
  background: var(--tg-secondary);
  border-radius: 16px;
  border: 1px solid var(--tg-border);
  box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
}

/* Адаптивность */
@media (max-width: 768px) {
  .octagram-container {
    padding: 0.5rem;
    margin: 1rem 0;
  }
}

/* SurveyModal.css */
.survey-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.8);
}

.survey-modal-container {
  position: relative;
  width: 100%;
  max-width: 500px;
  height: 90vh;
  max-height: 700px;
  display: flex;
  flex-direction: column;
  background-color: #000; /* Полностью черный фон */
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.survey-modal-header {
  padding: 25px 25px 15px;
  background-color: #000; /* Черный фон для хедера */
  z-index: 10;
}

.survey-progress-text {
  text-align: center;
  color: #e0e0e0;
  margin-bottom: 12px;
  font-size: 16px;
  font-weight: 500;
}

.survey-progress-track {
  width: 100%;
  height: 6px;
  background-color: #222; /* Темно-серый для контраста */
  border-radius: 10px;
  overflow: hidden;
}

.survey-progress-bar {
  height: 100%;
  background-color: #3b82f6;
  transition: width 0.3s ease;
}

.survey-question-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  position: relative;
  background-color: #000; /* Черный фон области вопроса */
}

.swipe-card-wrapper {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.swipe-card {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.survey-card {
  width: 90%;
  height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #111; /* Темный фон карточки, чуть светлее фона */
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
  padding: 30px;
  transition: 
    transform 0.3s cubic-bezier(0.18, 0.67, 0.6, 0.83),
    opacity 0.2s ease;
  border: 1px solid #222; /* Тонкая граница для выделения */
}

.survey-card:active {
  transform: scale(0.98);
}

.survey-card-text {
  font-size: 24px;
  font-weight: 500;
  color: white;
  line-height: 1.6;
  text-align: center;
  word-break: break-word;
  hyphens: auto;
  padding: 0 10px;
}

.survey-buttons-container {
  padding: 25px 30px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #000; /* Черный фон для кнопок */
  position: relative;
}

/* Возвращаем оригинальные стили кнопок */
.survey-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 70px; /* Оригинальный размер */
  height: 70px; /* Оригинальный размер */
  border-radius: 50%;
  box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.3); /* Оригинальная граница */
  transition: all 0.2s ease;
  position: relative;
  top: -15px; /* Сохраняем приподнятость */
}

.survey-button:active {
  transform: scale(0.92);
}

/* Возвращаем оригинальные цвета кнопок */
.survey-button-no {
  background-color: #fee2e2; /* Оригинальный цвет */
  color: #dc2626; /* Оригинальный цвет */
}

.survey-button-skip {
  background-color: #f3f4f6; /* Оригинальный цвет */
  color: #4b5563; /* Оригинальный цвет */
}

.survey-button-yes {
  background-color: #d1fae5; /* Оригинальный цвет */
  color: #059669; /* Оригинальный цвет */
}

.button-icon {
  font-size: 24px; /* Оригинальный размер */
  font-weight: bold;
}

/* Анимации */
@keyframes cardAppear {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.survey-card {
  animation: cardAppear 0.4s ease-out;
}

@media (max-width: 500px) {
  .survey-modal-container {
    height: 100vh;
    max-height: 100vh;
    border-radius: 0;
  }
  
  .survey-card {
    height: 250px;
    padding: 20px;
  }
  
  .survey-card-text {
    font-size: 22px;
  }
}
